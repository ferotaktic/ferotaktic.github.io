<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lobunachere Fero TaktiÄŸi</title>
<style>
:root{
  --bg:#071022; --card:#0c1830; --muted:#9fb0d9; --text:#e6f0ff;
  --accent:#7c5cff; --accent2:#22e3a2; --danger:#ff6b6b;
  --btn-grad: linear-gradient(90deg,var(--accent),var(--accent2));
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
.header{padding:14px;text-align:center;background:linear-gradient(180deg,#081329,#06101f);font-weight:800;letter-spacing:.2px;color:var(--accent2);font-size:18px}
.container{max-width:980px;margin:16px auto;padding:12px}
.card{background:linear-gradient(180deg, rgba(12,24,48,.9), rgba(8,14,30,.9));border:1px solid rgba(124,92,255,.12);border-radius:12px;padding:16px;margin-bottom:16px}
.h4{margin:0 0 12px;color:var(--muted);font-size:13px;font-weight:700;text-transform:uppercase}
.field{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.input, select{background:transparent;border:1px solid rgba(255,255,255,.06);color:var(--text);padding:10px;border-radius:8px;min-width:120px}
.label{color:var(--muted);font-size:13px;margin-right:6px}
.btn{cursor:pointer;font-weight:800;border:none;border-radius:12px;padding:10px 16px;background:var(--btn-grad);color:#051025;transition:transform .14s,opacity .14s}
.btn:hover{transform:translateY(-3px);opacity:.95}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,.06);color:var(--text)}
.seq{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
.chip{min-width:36px;height:36px;border-radius:8px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.04);display:flex;align-items:center;justify-content:center;font-weight:700}
.actions{display:flex;gap:12px;margin-top:12px;flex-wrap:wrap}
.small{font-size:13px;color:var(--muted)}
.table-wrap{overflow:auto;margin-top:12px}
table{width:100%;border-collapse:collapse;font-size:13px}
th,td{padding:8px;border-bottom:1px solid rgba(255,255,255,.03);text-align:center}
th{font-size:12px;color:var(--muted)}
.badge-win{color:#042f19;background:linear-gradient(90deg,#7ef0b3,#22e3a2);padding:6px 10px;border-radius:999px;font-weight:800}
.badge-loss{color:#3b0707;background:linear-gradient(90deg,#ff9a76,#ff6b6b);padding:6px 10px;border-radius:999px;font-weight:800}
.info-row{display:flex;gap:16px;flex-wrap:wrap;align-items:center}
@media(max-width:740px){ .container{padding:10px} .card{padding:12px} .header{font-size:16px} }
</style>
</head>
<body>
  <div class="header">ðŸŽ² Lobunachere Fero TaktiÄŸi</div>

  <div class="container">
    <!-- Ayarlar -->
    <div class="card">
      <div class="h4">Ayarlar</div>
      <div class="field" style="align-items:center;">
        <label class="label">Kasa:</label>
        <input id="inpKasa" class="input" type="number" value="5000" />
        <label class="label">AdÄ±mlar:</label>
        <input id="inpAdimlar" class="input" type="text" value="1,2,3,4" />
        <label class="label">Oran:</label>
        <select id="selOran" class="input">
          <option value="1.9">1.9</option>
          <option value="2.0">2.0</option>
        </select>
      </div>

      <div style="margin-top:12px" class="field">
        <button id="btnBaslat" class="btn">BaÅŸlat</button>
        <button id="btnSifirla" class="btn">SÄ±fÄ±rla</button>
      </div>
      <div class="small" style="margin-top:8px">Not: AdÄ±mlarÄ± virgÃ¼lle ayÄ±r (Ã¶rn. <code>5,10,15</code>). Oran seÃ§imi kazanÃ§ta kullanÄ±lacak (1.9 veya 2.0).</div>
    </div>

    <!-- Sistem -->
    <div class="card">
      <div class="h4">Sistem</div>
      <div class="info-row">
        <div><span class="small">Mevcut Kasa:</span> <div style="font-weight:800;margin-top:6px" id="mevcutKasa">-</div></div>
        <div><span class="small">SÄ±radaki Bahis:</span> <div style="font-weight:800;margin-top:6px" id="siradakiBahis">-</div></div>
      </div>

      <div class="seq" id="sequence"></div>

      <div class="actions">
        <button id="btnKazanc" class="btn">KazanÃ§</button>
        <button id="btnKayip" class="btn">KayÄ±p</button>
      </div>
    </div>

    <!-- GeÃ§miÅŸ -->
    <div class="card">
      <div class="h4">GeÃ§miÅŸ Eller</div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr><th>El</th><th>Bahis</th><th>SonuÃ§</th><th>Kasa</th></tr>
          </thead>
          <tbody id="gecmis"></tbody>
        </table>
      </div>
    </div>
  </div>

<script>
(() => {
  // state
  let kasa = 5000;
  let sequence = [20,20,20,20,20,20,20,20,20,20];
  let oran = 1.9;
  let elSayisi = 0;

  // elements
  const inpKasa = document.getElementById('inpKasa');
  const inpAdimlar = document.getElementById('inpAdimlar');
  const selOran = document.getElementById('selOran');
  const btnBaslat = document.getElementById('btnBaslat');
  const btnSifirla = document.getElementById('btnSifirla');
  const btnKazanc = document.getElementById('btnKazanc');
  const btnKayip = document.getElementById('btnKayip');
  const seqDiv = document.getElementById('sequence');
  const mevcutKasaEl = document.getElementById('mevcutKasa');
  const siradakiBahisEl = document.getElementById('siradakiBahis');
  const gecmisTbody = document.getElementById('gecmis');

  // helpers
  function parseSequenceInput(text){
    return text.split(',').map(s => {
      const n = parseFloat(s.trim());
      return Number.isFinite(n) && n > 0 ? Math.round(n) : null;
    }).filter(x => x !== null);
  }

  function siradakiBahis(){
    if(sequence.length === 0) return 0;
    if(sequence.length === 1) return sequence[0];
    return sequence[0] + sequence[sequence.length - 1];
  }

  function updateUI(){
    mevcutKasaEl.textContent = kasa.toFixed(2) + ' TL';
    const bahis = siradakiBahis();
    siradakiBahisEl.textContent = bahis > 0 ? bahis + ' TL' : 'â€”';
    // render sequence
    seqDiv.innerHTML = '';
    if(sequence.length === 0){
      const done = document.createElement('div');
      done.className = 'chip';
      done.textContent = 'Bitti âœ…';
      seqDiv.appendChild(done);
    } else {
      sequence.forEach(s => {
        const d = document.createElement('div');
        d.className = 'chip';
        d.textContent = s;
        seqDiv.appendChild(d);
      });
    }
    // enable/disable buttons
    const disable = (siradakiBahis() === 0);
    btnKazanc.disabled = disable;
    btnKayip.disabled = disable;
    btnKazanc.style.opacity = disable ? '0.5' : '1';
    btnKayip.style.opacity = disable ? '0.5' : '1';
  }

  function addHistoryRow(bahis, sonuc, deÄŸiÅŸim){
    elSayisi++;
    const tr = document.createElement('tr');
    const sonucBadge = sonuc === 'KazanÃ§'
      ? `<span class="badge-win">+${deÄŸiÅŸim.toFixed(2)}</span>`
      : `<span class="badge-loss">${deÄŸiÅŸim < 0 ? '' : '-'}${Math.abs(deÄŸiÅŸim).toFixed(2)}</span>`;
    tr.innerHTML = `<td>${elSayisi}</td>
                    <td>${bahis} TL</td>
                    <td>${sonuc} ${sonucBadge}</td>
                    <td>${kasa.toFixed(2)} TL</td>`;
    // prepend
    if(gecmisTbody.firstChild) gecmisTbody.insertBefore(tr, gecmisTbody.firstChild);
    else gecmisTbody.appendChild(tr);
  }

  // actions
  function baslat(){
    const k = parseFloat(inpKasa.value);
    if(!Number.isFinite(k)){
      alert('GeÃ§erli bir kasa girin.');
      return;
    }
    const seq = parseSequenceInput(inpAdimlar.value);
    if(seq.length === 0){
      alert('GeÃ§erli adÄ±mlar girin (Ã¶rn: 5,10,15).');
      return;
    }
    const o = parseFloat(selOran.value);
    if(!Number.isFinite(o) || o <= 1){
      alert('GeÃ§erli oran seÃ§in.');
      return;
    }
    kasa = k;
    sequence = seq;
    oran = o;
    elSayisi = 0;
    gecmisTbody.innerHTML = '';
    updateUI();
  }

  function sifirla(){
    inpKasa.value = 5000;
    inpAdimlar.value = '1,2,3,4';
    selOran.value = '1.9';
    baslat();
  }

  function kazandik(){
    const bahis = siradakiBahis();
    if(bahis <= 0) return;
    const net = bahis * (oran - 1);
    kasa += net;
    // remove first and last (or single)
    if(sequence.length === 1) sequence.shift();
    else {
      sequence.shift();
      if(sequence.length > 0) sequence.pop();
    }
    addHistoryRow(bahis, 'KazanÃ§', net);
    updateUI();
  }

  function kaybettik(){
    const bahis = siradakiBahis();
    if(bahis <= 0) return;
    kasa -= bahis;
    sequence.push(bahis);
    addHistoryRow(bahis, 'KayÄ±p', -bahis);
    updateUI();
  }

  // wire events
  btnBaslat.addEventListener('click', baslat);
  btnSifirla.addEventListener('click', sifirla);
  btnKazanc.addEventListener('click', kazandik);
  btnKayip.addEventListener('click', kaybettik);

  // init
  // set inputs to defaults and initialize UI
  inpKasa.value = 5000;
  inpAdimlar.value = '20,20,20,20,20,20,20,20,20,20';
  selOran.value = '1.9';
  baslat();
})();
</script>
</body>
</html>
